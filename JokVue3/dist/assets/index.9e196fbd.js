import{p as e,a as t,r as o,o as n,c as s,b as i,t as a,w as l,v as c,u as r,i as u,F as d,d as g,e as h,N as p,f as m,g as k,h as f,j as y,n as v,k as b,l as C,m as I}from"./vendor.b6264805.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();e("data-v-2dfd243c");const V=m(" Welcome: "),w={href:"https://www.baidu.com/",target:"_blank"},j={class:"left-aligned-list"},N=["onClick"],M={key:0,class:"dialog"},U=[i("div",{class:"dialog-content"},[i("p",null,"发送成功！")],-1)];t();const x={async mounted(){p.getInstance({appkey:"4727023efa991d31d61b3b32e819bd5b",debugLevel:"debug",apiVersion:"v2"}).V2NIMLoginService.on("onConnectStatus",(function(e){console.log("=== onConnectStatus"+e)}))},setup:()=>({inputValue0:o(""),inputValue1:o("")}),data(){const e=o(""),t=o([]),n=o(""),s=o(0),i=o(""),a=o(!1);return{joke:e,jokes:t,englishJoke:n,clickCount:s,currUser:i,dialogVisible:a,handleClick:t=>{console.log(`点击了: ${t}`),e.value=t},showDialog:()=>{a.value=!0,setTimeout((()=>{a.value=!1}),3e3)}}},methods:{goToNextPage(){this.$router.push("/TwoPage")},async changeJoke(){try{const e=await fetch("https://v2.jokeapi.dev/joke/Any"),t=await e.json();t.error?console.error("获取笑话数据出错:",t.error):(this.joke=t.joke||`${t.setup}  ${t.delivery}`,this.jokes.push(`【${this.jokes.length}】`+this.joke),this.clickCount++)}catch(e){console.error("获取笑话数据出错:",e)}},async getNimCurrUser(){const e=await p.getInstance().V2NIMUserService.getUserList(["ceshi8"]);this.currUser=e[0].name},async loginAction(){try{await p.getInstance().V2NIMLoginService.login(this.inputValue0,"123456",{forceMode:!1}),this.getNimCurrUser(),this.changeJoke()}catch(e){console.log("===0"+e)}},async sendJoke(){try{const e=p.getInstance().V2NIMMessageCreator.createTextMessage(this.joke);e.serverExtension="abc";const t=p.getInstance().V2NIMConversationIdUtil.p2pConversationId(this.inputValue1);console.log("=== 发送1"),1==(await p.getInstance().V2NIMMessageService.sendMessage(e,t)).message.sendingState?this.showDialog():console.log("=== 发送失败")}catch(e){console.log("==="+e)}}}},F=Object.assign(x,{props:{msg:String},setup:function(e){return o(0),(t,o)=>(n(),s(d,null,[i("h1",null,a(e.msg),1),l(i("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>u(inputValue0)?inputValue0.value=e:null),placeholder:"login"},null,512),[[c,r(inputValue0)]]),i("button",{type:"button",onClick:o[1]||(o[1]=(...e)=>t.loginAction&&t.loginAction(...e))},"login"),i("p",null,[V,i("a",w,a(t.currUser),1)]),i("button",{onClick:o[2]||(o[2]=(...e)=>t.goToNextPage&&t.goToNextPage(...e))},"go to next page"),i("div",null,[i("p",null,a(t.joke),1)]),i("button",{type:"button",onClick:o[3]||(o[3]=(...e)=>t.changeJoke&&t.changeJoke(...e))},"count is: "+a(t.clickCount),1),l(i("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=e=>u(inputValue1)?inputValue1.value=e:null),placeholder:"send to"},null,512),[[c,r(inputValue1)]]),i("button",{type:"button",onClick:o[5]||(o[5]=(...e)=>t.sendJoke&&t.sendJoke(...e))},"sendJoke"),i("ul",j,[(n(!0),s(d,null,g(t.jokes,(e=>(n(),s("li",{key:e,onClick:o=>t.handleClick(e)},a(e),9,N)))),128))]),t.dialogVisible?(n(),s("div",M,U)):h("",!0)],64))}});F.__scopeId="data-v-2dfd243c";const J={setup:e=>(e,t)=>{const o=k("router-view");return n(),f(o)}};const S={data:()=>({images:[],hitCount:0,isHit:!1,liImageClass:"liImageClass",woodenFishImage:"https://img1.baidu.com/it/u=2789072492,3212934856&fm=253&app=120&size=w931&n=0&f=GIF&fmt=auto?sec=1736355600&t=70c66a1fea960cb28ff7ccbacd5645e8"}),async created(){try{const e=await y.get("https://picsum.photos/v2/list");this.images=e.data}catch(e){console.error("获取图片列表失败",e)}},methods:{hitWoodenFish(){this.hitCount++,this.isHit=!0,setTimeout((()=>{this.isHit=!1}),500),console.log("木鱼被敲了！")}}},L=["src"],T=["src","alt"];S.render=function(e,t,o,l,c,r){return n(),s(d,null,[i("div",null,[i("button",{onClick:t[0]||(t[0]=(...e)=>r.hitWoodenFish&&r.hitWoodenFish(...e))},"+1"),i("p",null,"good luck: "+a(c.hitCount),1),i("img",{src:c.woodenFishImage,onClick:t[1]||(t[1]=(...e)=>r.hitWoodenFish&&r.hitWoodenFish(...e)),class:v(c.isHit?"hit-animation":"")},null,10,L)]),i("div",null,[i("ul",null,[(n(!0),s(d,null,g(c.images,(e=>(n(),s("li",{key:e.id},[i("img",{src:e.download_url,alt:e.author,class:v(c.liImageClass)},null,10,T),i("p",null,a(e.author),1)])))),128))])])],64)};const W=[{path:"/",component:F},{path:"/twoPage",component:S}],P=b({history:C("/YxWebVue3/"),routes:W});I(J).use(P).mount("#app");
