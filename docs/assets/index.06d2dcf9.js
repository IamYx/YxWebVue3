import{p as e,a as t,r as o,N as n,u as s,o as a,c as l,b as i,t as c,w as r,v as u,F as d,d as g,e as p,f as h,g as v,h as m,i as f,n as y,j as b,k,l as I}from"./vendor.deaa32a9.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();e("data-v-7718f3f0");const C=h(" Welcome: "),w={href:"https://www.baidu.com/",target:"_blank"},M={class:"left-aligned-list"},N=["onClick"],V={key:0,class:"dialog"},F=[i("div",{class:"dialog-content"},[i("p",null,"发送成功！")],-1)];t();const S={props:{msg:String},setup(e){o(0);const t=o(""),h=o(""),v=o(""),m=o([]);o("");const f=o(0),y=o(""),b=o(!1);n.getInstance({appkey:"4727023efa991d31d61b3b32e819bd5b",debugLevel:"debug",apiVersion:"v2"}).V2NIMLoginService.on("onConnectStatus",(function(e){console.log("=== onConnectStatus"+e)}));const k=s(),I=()=>{k.push("/TwoPage")},S=async()=>{try{const e=await fetch("https://v2.jokeapi.dev/joke/Any"),t=await e.json();t.error?console.error("获取笑话数据出错:",t.error):(v.value=t.joke||`${t.setup}  ${t.delivery}`,m.value.push(`【${this.jokes.length}】`+this.joke),f.value++)}catch(e){console.error("获取笑话数据出错:",e)}},j=async()=>{try{await n.getInstance().V2NIMLoginService.login(t.value,"123456",{forceMode:!1}),(async()=>{const e=await n.getInstance().V2NIMUserService.getUserList([t.value]);y.value=e[0].name})(),S()}catch(e){console.log("===0"+e)}},L=async()=>{try{const e=n.getInstance().V2NIMMessageCreator.createTextMessage(v.value);e.serverExtension="abc";const t=n.getInstance().V2NIMConversationIdUtil.p2pConversationId(h.value);console.log("=== 发送1"),1==(await n.getInstance().V2NIMMessageService.sendMessage(e,t)).message.sendingState?(b.value=!0,setTimeout((()=>{b.value=!1}),3e3)):console.log("=== 发送失败")}catch(e){console.log("==="+e)}};return(o,n)=>(a(),l(d,null,[i("h1",null,c(e.msg),1),r(i("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),placeholder:"login"},null,512),[[u,t.value]]),i("button",{type:"button",onClick:j},"login"),i("p",null,[C,i("a",w,c(y.value),1)]),i("button",{onClick:I},"go to next page"),i("div",null,[i("p",null,c(v.value),1)]),i("button",{type:"button",onClick:S},"count is: "+c(f.value),1),r(i("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>h.value=e),placeholder:"send to"},null,512),[[u,h.value]]),i("button",{type:"button",onClick:L},"sendJoke"),i("ul",M,[(a(!0),l(d,null,g(m.value,(e=>(a(),l("li",{key:e,onClick:t=>(e=>{console.log(`点击了: ${e}`),v.value=e})(e)},c(e),9,N)))),128))]),b.value?(a(),l("div",V,F)):p("",!0)],64))},__scopeId:"data-v-7718f3f0"};const j={setup:e=>(e,t)=>{const o=v("router-view");return a(),m(o)}};const L={data:()=>({images:[],hitCount:0,isHit:!1,liImageClass:"liImageClass",woodenFishImage:"https://img1.baidu.com/it/u=2789072492,3212934856&fm=253&app=120&size=w931&n=0&f=GIF&fmt=auto?sec=1736355600&t=70c66a1fea960cb28ff7ccbacd5645e8"}),async created(){try{const e=await f.get("https://picsum.photos/v2/list");this.images=e.data}catch(e){console.error("获取图片列表失败",e)}},methods:{hitWoodenFish(){this.hitCount++,this.isHit=!0,setTimeout((()=>{this.isHit=!1}),500),console.log("木鱼被敲了！")}}},W=["src"],x=["src","alt"];L.render=function(e,t,o,n,s,r){return a(),l(d,null,[i("div",null,[i("button",{onClick:t[0]||(t[0]=(...e)=>r.hitWoodenFish&&r.hitWoodenFish(...e))},"+1"),i("p",null,"good luck: "+c(s.hitCount),1),i("img",{src:s.woodenFishImage,onClick:t[1]||(t[1]=(...e)=>r.hitWoodenFish&&r.hitWoodenFish(...e)),class:y(s.isHit?"hit-animation":"")},null,10,W)]),i("div",null,[i("ul",null,[(a(!0),l(d,null,g(s.images,(e=>(a(),l("li",{key:e.id},[i("img",{src:e.download_url,alt:e.author,class:y(s.liImageClass)},null,10,x),i("p",null,c(e.author),1)])))),128))])])],64)};const U=[{path:"/",component:S},{path:"/twoPage",component:L}],H=b({history:k("/YxWebVue3/"),routes:U});I(j).use(H).mount("#app");
